image: Ubuntu1804
stack: node 12
branches:
  only:
    - master
cache: node_modules
environment:
  matrix:
    - nodejs_version: "18"
platform:
  - x64
build: off
install:
  - curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh | bash
  - source ~/.nvm/nvm.sh
  - export N_PREFIX="$HOME/.n"
  - npm install -g n
  - n 18
  - npm install -g npm@6
  - npm install -g eslint
test_script:
  - npm run lint && npm test
